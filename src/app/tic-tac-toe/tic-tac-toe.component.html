<div class="container">
  <div class="row">
    <div class="col-3 text-center">
      <div class="game-panel card">
        <div class="mt-3 mx-3">
          Click a square to start playing, X goes first!
        </div>
        <div *ngIf="board.winner" class="">
          <div class="card card-body mt-3 mx-3">
            Congrats to Player {{board.winningPlayer}} on winning!
          </div>
        </div>
        <div class="card m-3 py-1" *ngIf="board.moveLog.length">
          <div *ngFor="let move of board.moveLog">{{move.x}}, {{move.y}} by player {{move.player}}</div>
        </div>
      </div>
      <div class="btn-group">
          <button class="btn btn-outline-primary" (click)="board.undo()" [ngClass]="{'disabled': board.turnsTaken === 0 || board.winner}" [disabled]="board.turnsTaken === 0 || board.winner">
            <i class="fas fa-undo"></i> Undo
          </button>
          <button class="btn btn-outline-primary" (click)="newGame()" [ngClass]="{'disabled': board.turnsTaken === 0}">New Game</button>
        </div>
    </div>
    <div class="col-9">
      <table class="table table-bordered game-board">
        <tbody>
          <tr *ngFor="let column of board.cells; let x = index">
            <td *ngFor="let cell of column; let y = index" (click)="board.takeTurn(x,y)" class="game-cell text-center">
              <i [ngClass]="{'fas fa-times': board.getCell(x, y)==='X', 'far fa-circle': board.getCell(x, y)==='O'}"></i>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
